{% extends "layouts/main.html" %}
{% set version = "v6" %}
{% set pageTitle = "Approve apprentice details" %}

{% block header %}
{% include "includes/header.html" %}
{% include "includes/training-provider-account-header.html" %}
<nav class="das-navigation">
  <div class="govuk-width-container">
    <ul class="das-navigation__list ">
      <li class="das-navigation__list-item">
        <a class="das-navigation__link" href="/training-provider/{{version}}/approvals/add/homepage">Home</a>
      </li>
      <li class="das-navigation__list-item">
        <a class="das-navigation__link das-navigation__link--current"
          href="/training-provider/{{version}}/approvals/apprentice-requests">Apprentice requests</a>
      </li>
      <li class="das-navigation__list-item">
        <a class="das-navigation__link " href="/training-provider/{{version}}/reserve-reservations-pro">Manage
          funding</a>
      </li>
      <li class="das-navigation__list-item">
        <a class="das-navigation__link" href="/training-provider/{{version}}/manage/index">Manage your apprentices</a>
      </li>
      <li class="das-navigation__list-item">
        <a class="das-navigation__link" href="/training-provider/{{version}}/#">Recruit apprentices</a>
      </li>
      <li class="das-navigation__priority-list-item" id="priority-list-menu"><a class="das-navigation__priority-button"
          href="/training-provider/{{version}}/#">More</a>
        <ul class="das-navigation__priority-list govuk-visually-hidden">
          <li class="das-navigation__list-item">
            <a class="das-navigation__link" href="/training-provider/{{version}}/#">Organisations and agreements</a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</nav>
{% endblock %}

{% block beforeContent %}

{{ govukBackLink({
text: "Back",
href: "javascript:window.history.go(-1);"
}) }}

{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <h1 class="govuk-heading-l">{{ pageTitle }}</h1>

    <dl class="govuk-summary-list govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Status
        </dt>
        <dd class="govuk-summary-list__value">
          New request
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Employer
        </dt>
        <dd class="govuk-summary-list__value">
          BAMBINOS DAY NURSERY LIMITED
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Cohort reference
        </dt>
        <dd class="govuk-summary-list__value">
          R4GBWP
        </dd>
      </div>
    </dl>
    <details class="govuk-details">
      <summary class="govuk-details__summary">
        <span class="govuk-details__summary-text">
          I need to change some apprentice details
        </span>
      </summary>
      <div class="govuk-details__text">
        <p class="govuk-body">You will need to amend most details in the ILR. It can take up to 15 minutes to update
          here. Use the Save and exit link,
          or go back to the previous page.</p>
        <p class="govuk-body">You can adjust RPL or standard option (if relevant) by selecting 'View’</p>
      </div>
    </details>
  </div>
</div>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break">
<h3 class="govuk-heading-m">1 x Early years practitioner, Level: 2
</h3>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break">
<table class="govuk-table das-table--responsive das-table--condensed">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Name</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Unique learner number (ULN)</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Date of birth</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Training dates</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Price</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Recognition of prior learning (RPL)</th>
      <th scope="col" class="govuk-table__header"><span class="govuk-visually-hidden">Action</span></th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
    <tr class="govuk-table__row">
      <td class="govuk-table__cell" data-label="Name">
        <span class="das-table-cell--highlight das-breakable">Alan Lightfoot</span>
      </td>
      <td class="govuk-table__cell" data-label="Unique learner number">7232486935</td>
      <td class="govuk-table__cell" data-label="Date of birth">22 Jun 2003</td>
      <td class="govuk-table__cell" data-label="Training dates">12 June 2025 to 12 June 2026</td>
      <td class="govuk-table__cell govuk-table__cell--numeric" data-label="Price">£3,888</td>
      <td class="govuk-table__cell" data-label="Recognition of prior learning">No<br>
        <a class="govuk-link govuk-link--no-visited-state"
          href="/training-provider/v6/approvals/recognise-prior-learning-details">
          Add RPL
          <span class="govuk-visually-hidden"> Alan Lightfoot</span>
        </a>
      </td>
      <td class="govuk-table__cell govuk-table__cell--numeric">
        <a class="govuk-link govuk-link--no-visited-state" href="/training-provider/v6/approvals/check-details-alan">
          View
          <span class="govuk-visually-hidden"> Alan Lightfoot</span>
        </a>
        <br><br>
        <a class="govuk-link govuk-link--no-visited-state" href="/training-provider/{{version}}/#">
          Remove <span class="govuk-visually-hidden"> Alan Lightfoot</span>
        </a>
      </td>
    </tr>
  </tbody>
</table>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break">
<h3 class="govuk-heading-m">2 x Early years educator, Level: 3
</h3>
<hr class="govuk-section-break govuk-section-break--m govuk-section-break">
<table class="govuk-table das-table--responsive das-table--condensed">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Name</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Unique learner number (ULN)</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Date of birth</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Training dates</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Price</th>
      <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">Recognition of prior learning (RPL)</th>
      <th scope="col" class="govuk-table__header"><span class="govuk-visually-hidden">Action</span></th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
    <tr class="govuk-table__row">
      <td class="govuk-table__cell" data-label="Name">
        <span class="das-table-cell--highlight das-breakable">Bernard McKelly</span>
      </td>
      <td class="govuk-table__cell" data-label="Unique learner number">7232486936</td>
      <td class="govuk-table__cell" data-label="Date of birth">1 Oct 2004</td>
      <td class="govuk-table__cell" data-label="Training dates">12 June 2025 to 12 June 2026</td>
      <td class="govuk-table__cell govuk-table__cell--numeric" data-label="Price">£7,000</td>
      <td class="govuk-table__cell" data-label="Recognition of prior learning">No<br>
        <a class="govuk-link govuk-link--no-visited-state"
          href="/training-provider/v6/approvals/recognise-prior-learning-details-2">
          Add RPL
          <span class="govuk-visually-hidden"> Bernard McKelly</span>
        </a>
      </td>
      <td class="govuk-table__cell govuk-table__cell--numeric">
        <a class="govuk-link govuk-link--no-visited-state"
          href="/training-provider/{{version}}/approvals/check-details-bernard">
          View
          <span class="govuk-visually-hidden"> Bernard McKelly</span>
        </a>
        <br><br>
        <a class="govuk-link govuk-link--no-visited-state" href="/training-provider/{{version}}/#">
          Remove <span class="govuk-visually-hidden"> Bernard McKelly</span>
        </a>
      </td>
    </tr>
  </tbody>
  <tbody class="govuk-table__body">
    <tr class="govuk-table__row">
      <td class="govuk-table__cell" data-label="Name">
        <span class="das-table-cell--highlight das-breakable">Carla Mendoza</span>
      </td>
      <td class="govuk-table__cell" data-label="Unique learner number">7232486937</td>
      <td class="govuk-table__cell" data-label="Date of birth">19 May 2001</td>
      <td class="govuk-table__cell" data-label="Training dates">12 June 2025 to 12 June 2026</td>
      <td class="govuk-table__cell govuk-table__cell--numeric" data-label="Price">£7,000</td>
      <td class="govuk-table__cell" data-label="Recognition of prior learning">No<br>
        <a class="govuk-link govuk-link--no-visited-state"
          href="/training-provider/v6/approvals/recognise-prior-learning-details-3">
          Add RPL
          <span class="govuk-visually-hidden"> Carla Mendoza</span>
        </a>
      </td>
      <td class="govuk-table__cell govuk-table__cell--numeric">
        <a class="govuk-link govuk-link--no-visited-state" href="#">
          View
          <span class="govuk-visually-hidden"> Carla Mendoza</span>
        </a>
        <br><br>
        <a class="govuk-link govuk-link--no-visited-state" href="/training-provider/{{version}}/#">
          Remove <span class="govuk-visually-hidden"> Carla Mendoza</span>
        </a>
      </td>
    </tr>
  </tbody>
</table>



<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Total apprentices
        </dt>
        <dd class="govuk-summary-list__value">
          3
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Total apprenticeship training price (excluding VAT)
        </dt>
        <dd class="govuk-summary-list__value">
          £17,888
        </dd>
      </div>
    </dl>
  </div>
</div>


<p>
  <a href="/training-provider/{{version}}/approvals/add/select-apprentice-ILR-2"
    class="govuk-link add-apprentice govuk-link--no-visited-state">Add another
    apprentice</a>
  <a class="govuk-link delete-cohort govuk-link--no-visited-state" id="delete-cohort"
    href="/training-provider/v3/approvals/add/entry-method" style="float:right">
    Delete this cohort
  </a>
</p>


<hr class="govuk-section-break govuk-section-break--l">
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <form action="/training-provider/{{version}}/approvals/acknowledgement" method="post" class="form">
      <div class="govuk-form-group">
        <fieldset class="govuk-fieldset">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
            <h3 class="govuk-fieldset__heading">Approve these details?</h3>
          </legend>

          <div class="govuk-radios" data-module="govuk-radios">
            <!-- First Radio Button -->
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="approve-details" name="approve-details" type="radio" value="yes"
                data-aria-controls="conditional-approve-details">
              <label class="govuk-label govuk-radios__label" for="approve-details">
                Yes, approve and notify employer
              </label>

              <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-approve-details">
                <div class="govuk-form-group">
                  <label class="govuk-label" for="approve-message-yes">
                    Leave BAMBINOS DAY NURSERY LIMITED a message
                  </label>
                  <textarea class="govuk-textarea" id="approve-message-yes" name="approve-message-yes"
                    rows="5">{{ data['approve-message'] or '' }}</textarea>
                </div>
              </div>
            </div>
            <!-- Second Radio Button -->
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="approve-details-2" name="approve-details" type="radio" value="no"
                data-aria-controls="conditional-approve-details-2">
              <label class="govuk-label govuk-radios__label" for="approve-details-2">
                No, send to employer to review or add details
              </label>

              <div class="govuk-radios__conditional govuk-radios__conditional--hidden"
                id="conditional-approve-details-2">
                <div class="govuk-form-group">
                  <label class="govuk-label" for="approve-message-no">
                    Leave BAMBINOS DAY NURSERY LIMITED a message
                  </label>
                  <textarea class="govuk-textarea" id="approve-message-no" name="approve-message-no"
                    rows="5">{{ data['approve-message'] or '' }}</textarea>
                </div>
              </div>
            </div>
          </div>
        </fieldset>
      </div>

      <button type="submit" id="continue-button" class="govuk-button">Save and submit</button>
      <br>
      <p><a class="govuk-link govuk-link--no-visited-state"
          href="/training-provider/{{version}}/approvals/apprentice-requests">
          Save and exit
        </a></p>
    </form>

  </div>
</div>

</div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector(".form");
    const radioYes = document.getElementById("approve-details");
    const radioNo = document.getElementById("approve-details-2");
    const submitButton = document.getElementById("continue-button");

    if (form && radioYes && radioNo && submitButton) {
      submitButton.addEventListener("click", function (event) {
        if (radioNo.checked) {
          form.action = "/training-provider/{{version}}/approvals/apprentice-requests";
        } else {
          form.action = "/training-provider/{{version}}/approvals/acknowledgement";
        }
        form.submit();
      });
    }
  });
</script>


{% endblock %}